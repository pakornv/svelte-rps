<script lang="ts">
	import type { HTMLButtonAttributes } from 'svelte/elements';

	export type SymbolName = 'paper' | 'rock' | 'scissors';

	interface Props extends HTMLButtonAttributes {
		name: SymbolName;
		size?: 'sm' | 'lg';
	}

	let { name, size = 'sm', ...restProps }: Props = $props();

	const colorMap = {
		paper: { foreground: '#4664F4', background: '#2A45C2' },
		rock: { foreground: '#DB2E4D', background: '#9D1634' },
		scissors: { foreground: '#EB9F0F', background: '#C76C1B' }
	};
</script>

<button
	{...restProps}
	type="button"
	aria-label={name}
	class={[
		'relative rounded-full outline-none hover:ring-white/5 focus-visible:ring-white/5',
		size === 'sm' &&
			'w-32 hover:ring-16 focus-visible:ring-16 sm:w-50 sm:hover:ring-20 sm:focus-visible:ring-20',
		size === 'lg' &&
			'w-32 hover:ring-16 focus-visible:ring-16 sm:w-50 sm:hover:ring-28 sm:focus-visible:ring-28 lg:w-75'
	]}
>
	<svg viewBox="0 0 198 203" fill="none">
		<ellipse cx="99" cy="101.5" rx="99" ry="101.5" fill={colorMap[name].background} />
		<ellipse cx="99" cy="97" rx="99" ry="97" fill={colorMap[name].foreground} />
		<circle cx="99" cy="99" r="76" fill="#B1B4C5" />
		<ellipse cx="99" cy="103" rx="76" ry="72" fill="#DADADA" />
		{#if name === 'paper'}
			<path
				d="M128.529 79.3231C127.969 79.1082 127.386 79.015 126.847 79.0526C126.07 79.107 125.442 79.4242 125.07 79.9433C122.878 83.0268 121.083 88.8501 119.636 93.529C118.972 95.6928 118.08 98.5885 117.434 99.9628C116.761 96.1125 117.521 82.008 117.817 76.5762L117.821 76.4885C118.026 72.7148 118.054 72.053 118.009 71.7624C117.684 69.6923 116.858 68.3335 115.553 67.7253C114.234 67.1085 112.521 67.3814 110.675 68.4968C109.75 69.0588 109.494 70.9878 108.7 79.7314L108.697 79.7699C108.26 84.5735 107.253 95.634 106.015 97.476C104.617 94.8989 102.695 80.2565 101.865 73.9186C101.284 69.4799 100.946 66.9312 100.718 66.1616C100.24 64.549 98.2188 63.1767 96.2178 63.1007C94.5523 63.0177 93.1856 63.8687 92.5335 65.3473C91.3133 66.7112 91.7443 71.2343 93.0931 81.9469C93.7351 87.0452 95.0602 97.5765 94.2262 98.7578C92.5634 98.5762 89.7086 91.9796 85.7403 79.1456C84.627 75.5514 84.2823 74.4703 83.9404 73.9971C83.2663 72.3489 80.9753 71.0776 78.9213 71.2212C78.7459 71.2335 78.5754 71.2564 78.4069 71.2886C77.3317 71.5031 74.8782 72.4972 75.4011 77.0847C76.85 83.4449 78.4237 88.1147 79.951 92.6472L79.9819 92.7379C80.8957 95.4527 81.7596 98.0178 82.5623 100.865C84.4544 107.586 83.7187 111.756 83.7097 111.803C83.6468 112.232 83.5149 112.494 83.3164 112.586C83.245 112.62 83.1535 112.64 83.0503 112.647C82.4507 112.689 81.5513 112.29 81.0878 112.03C80.029 109.998 74.7575 100.311 69.9808 98.967L69.8092 98.9162L69.6355 98.9324C67.8835 99.0986 66.5953 99.7637 65.8081 100.909C64.5605 102.72 65.0769 105.027 65.2022 105.489L65.2726 105.655C65.3116 105.725 69.1423 112.74 69.7351 116.003C70.2464 118.8 72.8913 121.832 75.0179 124.268L75.1055 124.367C75.7992 125.164 76.3979 125.853 76.87 126.491C83.0404 132.955 92.7987 138.393 92.8782 138.437C94.0957 139.339 94.7728 140.211 94.8443 140.962C94.8896 141.453 94.6355 141.747 94.6266 141.757L94.4141 141.979L95.763 143.296L121.508 141.48L122.605 136.428C126 122.159 125.291 109.994 125.28 109.912C125.292 109.465 126.244 105.136 127.009 101.639L127.031 101.55C128.556 94.5828 130.453 85.9137 130.816 82.6166C130.974 81.2068 130.077 79.9116 128.529 79.3231Z"
				fill="#3B4262"
			/>
		{:else if name === 'rock'}
			<path
				d="M128.441 88.0849C127.564 76.9814 115.149 78.1151 115.149 78.1151C109.909 68.8366 101.722 75.5572 101.722 75.5572C95.4334 66.4636 87.5479 74.8903 87.5479 74.8903C73.9522 73.4176 74.4792 84.5827 74.4792 84.5827C74.1592 88.1319 76.3953 99.1125 76.3953 99.1125C74.3782 92.7837 70.0033 98.0372 70.0033 98.0372C64.625 106.374 68.6735 110.937 68.6735 110.937C75.9512 119.504 91.4607 129.787 91.4607 129.787C97.0766 133.018 94.7012 135.9 94.7012 135.9L128.669 130.262L129.45 123.792C134.614 108.105 128.441 88.0849 128.441 88.0849Z"
				fill="#3B4262"
			/>
		{:else if name === 'scissors'}
			<path
				d="M79.16 98.3494L87.3694 86.8064C83.9571 86.2376 77.6911 86.1115 72.5584 91.2442C64.4677 99.3349 61.191 116.813 60.5079 121.044L81.0706 141.606C84.7723 141.289 101.162 139.101 116.954 123.309C117.122 122.968 120.968 120.125 117.823 116.98C116.322 115.479 113.837 115.507 112.303 117.041C111.523 117.822 110.308 117.833 109.544 117.069C108.779 116.304 108.79 115.09 109.571 114.309L115.152 108.728C117.987 105.892 115.314 101.108 111.356 102.258L106.788 106.169C105.953 106.896 104.713 106.77 104.028 105.977C103.319 105.157 103.47 103.915 104.277 103.215C120.235 89.2135 117.906 90.8998 128.173 81.2763C132.009 78.0824 127.183 72.4328 123.403 75.6675L98.5657 98.0027C97.8432 98.6181 96.7357 98.6297 96.0247 97.9746C95.2041 97.266 95.1853 96.245 95.7217 95.4384L113.046 68.5052C115.579 65.0757 110.595 61.2668 107.927 64.7242L82.3117 100.55C81.6939 101.443 80.4491 101.648 79.6006 101.023C78.7497 100.452 78.5167 99.2119 79.16 98.3494Z"
				fill="#3B4262"
			/>
		{/if}
	</svg>
</button>
